<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>XIAOBO</title><meta name="author" content="XIAOBO"><meta name="copyright" content="XIAOBO"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="自言自语">
<meta property="og:type" content="website">
<meta property="og:title" content="XIAOBO">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="XIAOBO">
<meta property="og:description" content="自言自语">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/touxiang.png">
<meta property="article:author" content="XIAOBO">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/touxiang.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/tubiao.2g95jm2zwni8.png"><link rel="canonical" href="http://example.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: XIAOBO","link":"链接: ","source":"来源: XIAOBO","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'XIAOBO',
  isPost: false,
  isHome: true,
  isHighlightShrink: true,
  isToc: false,
  postUpdate: '2021-06-28 18:10:42'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/touxiang.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">XIAOBO</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/18/%E9%9A%8F%E6%9C%BA%E5%8D%95%E8%AF%8D/" title="随机单词">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/iStock-520374378.4y1j3c4p25c0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="随机单词"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/18/%E9%9A%8F%E6%9C%BA%E5%8D%95%E8%AF%8D/" title="随机单词">随机单词</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-18T08:00:00.000Z" title="发表于 2021-02-18 16:00:00">2021-02-18</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%B0%E5%BD%95/">记录</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AE%B0%E5%BD%95/">记录</a></span></div><div class="content">最近复习英语，做题或遇到很多生词或短语。然后会把这些此都记录下来，放到Excel表格里。
背会默写的时候，就弄个随机函数把单词顺序打乱，之后隐藏汉语或英语的那一列。
时间久了就会感到很麻烦很累，所以想能不能自己做个程序，让它来做随机这个事情，我只需点击下一个就行了？
选用 Python只用过 Python 做PC端的图形界面，打包也很简单，所以就用它了。(其他的都不会。。。)
最后做出来是这样的图标
我也不知道这个图标是什么东西，看起来像书？
程序界面
主界面


​        

单词模式(显示单词，默写汉语)



翻译模式(显示汉语，默写单词)




显示全部界面(显示全部单词和对应的汉语)



程序思路首先是有一个 Excel 表格文件，这个文件里有若干个 sheet ，每个 sheet 里是生词。

让程序加载这个 Excel 。
程序需要展示表格数据，第一步就是要加载这个表格

读取 sheet 里的数据
拿到里面的单词数据才能展示出来

单词随机打乱顺序
因为这是个帮助默写，背单词的程序，所以一定要把单词顺序随机打乱

把单词打印到屏幕上，可以通过单击按钮或这操作 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/18/hexo%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="hexo部署到云服务器">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/hexo.2lcvynqocwo0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo部署到云服务器"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/18/hexo%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="hexo部署到云服务器">hexo部署到云服务器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-18T07:54:30.000Z" title="发表于 2021-02-18 15:54:30">2021-02-18</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%B0%E5%BD%95/">记录</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AE%B0%E5%BD%95/">记录</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/Hexo/">Hexo</a></span></div><div class="content">准备好：

 云服务器
域名

在本地hexo博客生成
本地系统是 Windows10

前置工具安装：
Node.js
选择12版本的，新的版本hexo会报错

Git
点击Download



如果能看到版本号，就算安装好了(在命令行使用之前，须要加入相应的环境变量)
hexo 安装npm install -g hexo-cli


能看到版本号就算安装成功了
新建一个文件夹作为博客目录，例如：hexo
进入hexo目录后依次执行：
hexo init
npm install


然后就可以执行hexo命令了：
hexo cl    #清理缓存
hexo g    #渲染博客文件
hexo s    #预览本地渲染好的博客
hexo d    #部署至远端 (需要配置部署选项)


按住Ctrl键单机地址，会自动打开浏览器，在本地预览自己的博客。
hexo部署配置在 hexo 配置文件最后
deploy:
    type: git
    repo: git@IP或域名:远程仓库路径
# 如果修改了ssh端口的话，需要这么写：
#    repo: ssh://git@IP或域 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/17/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A-sanic%E6%A1%86%E6%9E%B6-websocket-nginx%E9%85%8D%E7%BD%AE/" title="阿里云服务器上sanic框架,websocket,nginx配置">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/1ba6aba96bf32be0631b17d7a73ef013.2nswxf1kho20.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="阿里云服务器上sanic框架,websocket,nginx配置"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/17/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A-sanic%E6%A1%86%E6%9E%B6-websocket-nginx%E9%85%8D%E7%BD%AE/" title="阿里云服务器上sanic框架,websocket,nginx配置">阿里云服务器上sanic框架,websocket,nginx配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-02-17T10:59:29.000Z" title="发表于 2021-02-17 18:59:29">2021-02-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%B0%E5%BD%95/">记录</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AE%B0%E5%BD%95/">记录</a></span></div><div class="content"> 之前在GitHub上找了个项目，是人脸识别的。项目中用到了 WebSocket ，本地运行正常。
当时正好有个云服务器，想试试在服务器上能不能跑起来。
结果卡在了 Websocket 使用WSS 一直连接不通。
后端是 python ，用了 sanic 框架，当时摸索了好几天(第一次接触这东西)，简直要疯了，然后放弃了。
这次寒假在家，又想起来这个玩意儿了，看了一下，突然灵光乍现。MD之前自己一直把方向给搞错了。
报错
之前一直报这种错误，错误代码不一样：404， 500， 504。
在网上一顿搜，也确定了出错的地方肯定是 nginx 的配置。
当时网上的各种配置我也照着做了，还是不行。
发现错误这次折腾的时候发现了。
之前一直是直接以 WebSocket 为关键词搜索，忽略了 Sanic。
(当时脑子可能不顶用了)
正确配置监听地址、端口
在服务器上的话，地址填0.0.0.0
这个地址表示服务器上所有 ipv4地址都可以访问这个服务。
端口的选择要遵循一定规则 → 看我
同时，在阿里云控制台中的安全组内要添加上这个端口。
Sanic路由
配置路由地址时，所有具有功能的路由，地址的第 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/touxiang.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">XIAOBO</div><div class="author-info__description">自言自语</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">WELCOME！</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/02/18/%E9%9A%8F%E6%9C%BA%E5%8D%95%E8%AF%8D/" title="随机单词"><img src="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/iStock-520374378.4y1j3c4p25c0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="随机单词"/></a><div class="content"><a class="title" href="/2021/02/18/%E9%9A%8F%E6%9C%BA%E5%8D%95%E8%AF%8D/" title="随机单词">随机单词</a><time datetime="2021-02-18T08:00:00.000Z" title="发表于 2021-02-18 16:00:00">2021-02-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/18/hexo%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="hexo部署到云服务器"><img src="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/hexo.2lcvynqocwo0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo部署到云服务器"/></a><div class="content"><a class="title" href="/2021/02/18/hexo%E9%83%A8%E7%BD%B2%E5%88%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="hexo部署到云服务器">hexo部署到云服务器</a><time datetime="2021-02-18T07:54:30.000Z" title="发表于 2021-02-18 15:54:30">2021-02-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/17/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A-sanic%E6%A1%86%E6%9E%B6-websocket-nginx%E9%85%8D%E7%BD%AE/" title="阿里云服务器上sanic框架,websocket,nginx配置"><img src="https://cdn.jsdelivr.net/gh/Young-Faith/pic@main/1ba6aba96bf32be0631b17d7a73ef013.2nswxf1kho20.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="阿里云服务器上sanic框架,websocket,nginx配置"/></a><div class="content"><a class="title" href="/2021/02/17/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A-sanic%E6%A1%86%E6%9E%B6-websocket-nginx%E9%85%8D%E7%BD%AE/" title="阿里云服务器上sanic框架,websocket,nginx配置">阿里云服务器上sanic框架,websocket,nginx配置</a><time datetime="2021-02-17T10:59:29.000Z" title="发表于 2021-02-17 18:59:29">2021-02-17</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%AE%B0%E5%BD%95/"><span class="card-category-list-name">记录</span><span class="card-category-list-count">3</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Hexo/" style="font-size: 1.1em; color: #999">Hexo</a> <a href="/tags/%E8%AE%B0%E5%BD%95/" style="font-size: 1.5em; color: #99a9bf">记录</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">3</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2020-03-20T04:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-06-28T10:10:42.509Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By XIAOBO</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="http://beian.miit.gov.cn" target="_blank">豫ICP备20007096</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div></div></body></html>